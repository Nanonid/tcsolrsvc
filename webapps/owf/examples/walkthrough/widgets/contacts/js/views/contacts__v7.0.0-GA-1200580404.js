(function(){app.ContactsView=Backbone.View.extend({tagName:"table",className:"table table-striped table-hover",initialize:function(){var a=this;app.Contacts.fetch({success:function(){a.addAll()}})},addOne:function(a){var b=new app.ContactView({model:a});this.$el.append(b.render().el)},addAll:function(){app.Contacts.each(this.addOne,this)}});app.ContactView=Backbone.View.extend({tagName:"tr",template:Handlebars.compile($("#contact-template").html()),events:{dblclick:"edit",mousedown:"startDrag","click .address":"plotAddress"},initialize:function(){this.model.on("change",this.render,this);this.model.on("destroy",this.remove,this)},render:function(){this.$el.html(this.template(this.model.toJSON()));return this},edit:function(){app.Router.navigate(this.model.get("id"),{trigger:true})},startDrag:function(b){b.preventDefault();var a=this.model;OWF.ready(function(){OWF.DragAndDrop.startDrag({dragDropLabel:a.get("name"),dragDropData:a.toJSON(),dragDataType:"contact"})})},plotAddress:function(){var a=this.model.toJSON();OWF.ready(function(){OWF.Launcher.launch({universalName:"org.owfgoss.owf.examples.GoogleMaps",launchOnlyIfClosed:true,data:a},function(b){if(b.newWidgetLaunched===false){OWF.Eventing.publish("org.owfgoss.owf.examples.GoogleMapsExample.plotAddress",a,'{"id":"'+b.uniqueId+'"}')}})})}})})();