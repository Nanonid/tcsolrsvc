Ext.define("Ozone.components.dd.WidgetDragZone",{extend:"Ext.dd.DragZone",ddGroup:"widgets",constructor:function(d,b){this.callParent(d,b);if(this.extraGroups!=null){var a=[].concat(this.extraGroups);for(var c=0;c<a.length;c++){this.addToGroup(a[c])}}},getDragData:function(f){var b=this.view;var a=f.getTarget(b.itemSelector);if(a){var c=b.indexOf(a);var g=Ext.fly(a).down("img").dom.cloneNode(true);g.id=Ext.id();return{ddel:g,sourceEl:a,repairXY:Ext.fly(a).getXY(),sourceStore:b.store,view:b,origIdx:c,lastIdx:c,widgetModel:b.getRecord(a)}}},getRepairXY:function(){return this.dragData.repairXY},onStartDrag:function(a,b){this.view.fireEvent("dragStarted",this.view.dragZone,this.disableDragLaunching)},endDrag:function(){this.view.fireEvent("dragEnd",this.view.dragZone)},afterInvalidDrop:function(a,b){this.view.fireEvent("invalidDrop")}});