Ext.define("Ozone.components.view.TagCloud",{extend:"Ozone.components.focusable.FocusableView",alias:"widget.tagcloud",cls:"tagCloud",minFont:0.8,maxFont:2.5,initComponent:function(){var a=this;if(a.store==null){a.store=Ext.create("Ext.data.Store",{fields:[{name:"tag"},{name:"uses",type:"int"}]})}a.minTagUses=a.store.min("uses");a.maxTagUses=a.store.max("uses");a.tpl=new Ext.XTemplate('<tpl for=".">','<div class="tag">','<span style="font-size:{[this.calculateFontSize(values)]}">{tag:htmlEncode}</span>',"</div>","</tpl>",{calculateFontSize:function(b){return this.fs(b)+"em"},fs:function(b){var c=Math.log(a.maxTagUses-(a.minTagUses-1))/(a.maxFont-a.minFont);var d=a.minFont;if(c>0){d=Math.log(b.uses-(a.minTagUses-1))/c+a.minFont}return d}});a.callParent()},refresh:function(){var a=this;a.minTagUses=a.store.min("uses");a.maxTagUses=a.store.max("uses");a.callParent()}});