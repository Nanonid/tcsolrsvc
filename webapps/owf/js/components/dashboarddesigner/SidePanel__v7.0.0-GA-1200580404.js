Ext.define("Ozone.components.dashboarddesigner.SidePanel",{extend:"Ext.container.Container",alias:["widget.dashboarddesignersidepanel","widget.Ozone.components.dashboarddesigner.SidePanel"],id:"dashboard-designer-side-panel",dashboardDesigner:null,initComponent:function(){var a=this;a.items=[{xtype:"dashboarddesignerbaselayout",listeners:{viewready:{fn:a.setupFocus},enterpress:{fn:a.baseLayoutSelected,scope:a}}},{xtype:"dashboarddesignerlayouttype",listeners:{enterpress:{fn:a.baseLayoutSelected,scope:a}}},{xtype:"button",text:"Reset",handler:a.dashboardDesigner.reset,scope:a.dashboardDesigner},{xtype:"component",itemId:"dashboard-lock",cls:"dashboard-lock",tpl:['<img src="{image}"></img>',],data:{image:a.dashboardDesigner.locked?"themes/common/images/dashboard-designer/LockON.png":"themes/common/images/dashboard-designer/LockOFF.png"},listeners:{afterrender:{fn:function(d){var c=this;d.el.on("mouseover",function(){d.tip=Ext.create("Ext.tip.ToolTip",{target:d.el,trackMouse:true,mouseOffset:[0,10],renderTo:d.ownerCt.el,width:115,html:c.dashboardDesigner.locked?"Dashboard locked":"Dashboard unlocked",listeners:{beforeshow:{fn:function e(f){var g=c.dashboardDesigner.locked?"Dashboard locked":"Dashboard unlocked";f.update(g)}}}});d.tip.show()},null,{single:true});Ozone.components.focusable.Focusable.setupFocus(d.el,this);var b=new Ext.util.KeyMap(d.el,{key:[Ext.EventObject.ENTER],fn:function(f,e){e.stopEvent();c.dashboardDesigner.toggleDashboardLock(c.dashboardDesigner)},scope:d});d.el.on("click",c.dashboardDesigner.toggleDashboardLock,c.dashboardDesigner);this.on("beforedestroy",function(){d.el.un("click",c.dashboardDesigner.toggleDashboardLock,c.dashboardDesigner);d.tip&&d.tip.destroy();b.destroy()})},scope:this}}},{xtype:"button",text:"Save",handler:a.dashboardDesigner.save,scope:a.dashboardDesigner},{itemId:"cancelBtn",xtype:"button",text:"Cancel",handler:a.dashboardDesigner.cancel,scope:a.dashboardDesigner}];a.addEvents("baselayoutselected");a.enableBubble(["baselayoutselected"]);a.callParent(arguments)},getBubbleTarget:function(){return this.up("dashboarddesigner")},baseLayoutSelected:function(b,a,c){this.fireEvent("baselayoutselected",b,a,c)},paneLayoutTypeSelected:function(b,a,c){this.fireEvent("panelayouttypeselected",b,a,c)},setupFocus:function(a){var b=this.el.query(".layout-type");Ext.defer(function(){a.select(0);b[0].focus()},100)}});