Ext.define("Ozone.components.panel.WidgetTool",{extend:"Ext.panel.Tool",alias:["widget.widgettool","widget.Ozone.components.panel.WidgetTool"],renderTpl:['<img id="{id}-toolEl" src="{icon}" class="{baseCls}-{type}" role="presentation"/>'],plugins:[new Ozone.components.focusable.Focusable("toolEl")],initComponent:function(){var a=this;this.renderData=this.renderData?this.renderData:{};Ext.apply(this.renderData,{icon:this.icon!=null?this.icon:Ext.BLANK_IMAGE_URL});a.childEls=["toolEl"];a.callParent();a.on("afterrender",function(){var b=new Ext.util.KeyMap(a.el,{key:[Ext.EventObject.ENTER,Ext.EventObject.SPACE],fn:function(d,c){c.preventDefault();a.handler.call(this,c)},scope:a.scope||a})})},getFocusEl:function(){return this.toolEl},isFocused:function(){return(this.toolEl.dom===document.activeElement)},onMouseDown:function(){if(this.disabled){return false}this.el.addCls(this.toolPressedCls);this.wasClicked=true;if(this.ownerCt){this.ownerCt.toolClicked=true}},onClick:function(c,b){var a=null;a=this.callParent(arguments);this.wasClicked=false;if(this.ownerCt){this.ownerCt.toolClicked=false}return a}});