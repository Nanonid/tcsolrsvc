Ext.define("Ozone.components.launchMenu.WidgetViewContainer",{extend:"Ext.Container",alias:"widget.widgetviewcontainer",layout:{type:"vbox",align:"stretch"},showOpenedWidgets:false,iconOrGrid:true,initComponent:function(){Ext.apply(this,{items:[{xtype:"component",itemId:"openedwidgetsviewtitle",cls:"title",html:"Current Instances",hidden:!this.showOpenedWidgets},{xtype:"widgetview",itemId:"openedwidgetsview",flex:1,hidden:!this.showOpenedWidgets,widgetStore:this.openedWidgetStore,disableDragAndDrop:true,disableDragLaunching:true,alreadyOpenedWidget:true},{xtype:"component",itemId:"widgetsviewtitle",cls:"title",html:"Open a new Instance",hidden:!this.showOpenedWidgets},{xtype:"widgetview",itemId:"widgetsview",flex:1,widgetStore:this.widgetStore}]});this.callParent(arguments);this.on("itemclick",this.frameClickedWidgetInstance)},showIconOrGridView:function(c){var a=false,b=this.getComponent("widgetsview"),d=this.getComponent("openedwidgetsview");if(c!=null){a=c;this.iconOrGrid=c}else{a=this.iconOrGrid}if(a){b.getLayout().setActiveItem("view");if(d.isVisible()){d.getLayout().setActiveItem("view")}}else{b.getLayout().setActiveItem("grid");if(d.isVisible()){d.getLayout().setActiveItem("grid")}}},showOpenedWidgetsView:function(a){this.showOpenedWidgets=a;if(this.showOpenedWidgets&&this.openedWidgetStore.getCount()>0){this.getComponent("openedwidgetsview").show();this.getComponent("widgetsviewtitle").show();this.getComponent("openedwidgetsviewtitle").show();this.showIconOrGridView()}else{this.getComponent("openedwidgetsview").hide();this.getComponent("widgetsviewtitle").hide();this.getComponent("openedwidgetsviewtitle").hide()}},setOpenedWidgets:function(a){var b=this.openedWidgetStore;b.removeAll();b.add(a.getRange());b.sort("name","ASC")},setItemSize:function(c){var b=this.getComponent("widgetsview").down("#view");var a=this.getComponent("openedwidgetsview").down("#view");b.setItemSize(c);a.setItemSize(c)},deselectAll:function(a){var c=this.getComponent("widgetsview").down("#view");var b=this.getComponent("openedwidgetsview").down("#view");var e=this.getComponent("widgetsview").down("#grid");var d=this.getComponent("openedwidgetsview").down("#grid");c.getSelectionModel().deselectAll(a);b.getSelectionModel().deselectAll(a);e.getSelectionModel().deselectAll(a);d.getSelectionModel().deselectAll(a)},getFirstActiveViewOrGrid:function(){var a=this.getComponent("openedwidgetsview");var c=this.getComponent("widgetsview");var b=null;if(a.isVisible()){b=a.getLayout().getActiveItem()}else{b=c.getLayout().getActiveItem()}return b},frameClickedWidgetInstance:function(b,a){var c=a.get("uniqueId");if(c){Ext.getCmp(c).el.frame("#f00")}}});