(function(){var a=false;Ext.define("Ozone.components.focusable.FocusableView",{extend:"Ext.view.View",alias:"widget.focusableview",initComponent:function(){this.callParent(arguments);this.on("selectionchange",function(c,f){for(var d=0,b=f.length;d<b;d++){var h=this.getNode(f[d]);if(h!=null){if(a){a=false}else{if(document.activeElement!==h){try{h.focus()}catch(g){}}}}}},this);this.on("itemupdate",function(b,c,d){this.setupFocusListeners(d)},this)},refresh:function(){this.callParent(arguments);this.getEl().select(this.itemSelector).each(function(b){this.setupFocusListeners(b.dom)},this)},setupFocusListeners:function(c){var b=new Ext.Element(c);this.mon(b,"focus",function(d,e){if(this.getSelectedNodes()[0]!==e){this.select(this.getRecord(e))}},this);this.mon(b,"mousedown",function(d,e){});this.mon(b,"blur",function(d,e){if(this.store){this.deselect(this.getRecords([e]))}},this);Ozone.components.focusable.Focusable.clearOutline(b)}})})();