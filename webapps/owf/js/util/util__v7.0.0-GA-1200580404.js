var Ozone=Ozone||{};Ozone.util=Ozone.util||{};Ozone.util.formField=Ozone.util.formField||{};Ozone.config=Ozone.config||{};Ozone.util.isUrlLocal=function(c){var a=Ozone.util.contextPath();if(a!=""&&a!=null){a+="/"}var d=new RegExp("^(https?:)//([^/:]+):?(.*)"+a);var e=c.match(d);if(!e){if(c.match(new RegExp("^https?://"))){return false}else{return true}}var b=window.location.port;return window.location.protocol===e[1]&&window.location.hostname===e[2]&&b===e[3]};Ozone.util.parseJson=function(b){if(typeof(b)==="string"){owfdojox.secure.capability.validate(b,[],{});var a=owfdojo.fromJson(b);return a}else{throw"Ozone.util.parseJson expected a string, but didn't get one"}};Ozone.util.HTMLEncodeReservedJS=function(a){return a.replace(/"/g,"&quot;").replace(/'/g,"&#39;")};Ozone.util.HTMLEncode=function(a){return !a?a:String(a).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};Ozone.util.parseWindowNameData=function(){var a=null;return function(){if(a){return a}try{a=Ozone.util.parseJson(window.name);return a}catch(b){return null}}}();Ozone.util.contextPath=(function(){var a=Ozone.util.parseWindowNameData(),b=Ozone.config.webContextPath;if(a&&a.webContextPath){b=Ozone.config.webContextPath=a.webContextPath}return function(){return b||""}})();Ozone.util.validUrlContext=function(d,f){var g=(d.indexOf("../")==0)?true:false;var b=(d.indexOf("/")==0)?true:false;var a=(b||g||(d.indexOf("localhost")==7)||(d.indexOf("localhost")==11)||(d.indexOf("127.0.0.1")==7))?true:false;var c=d;f=((f==undefined)?Ozone.util.contextPath():f);if((a==true)&&(f!=null)){if(b){c=String.format("{0}{1}",f,d)}else{if(g){var e=d.substring(3);c=String.format("{0}/{1}",f,e)}}}return c};Ozone.util.getContainerRelay=function(){return Ozone.util.contextPath()+"/js/eventing/rpc_relay.uncompressed.html"};Ozone.util.toString=function(a){if(typeof(a)==="object"){return owfdojo.toJson(a)}else{return a+""}};Ozone.util.formatWindowNameData=function(a){return Ozone.util.toString(a)};Ozone.util.formField.removeLeadingTrailingSpaces=function(a){var b=a.getValue().replace(new RegExp(Ozone.lang.regexLeadingTailingSpaceChars),"");a.setValue(b);return b};if(!Ozone.util.ModalBox){Ozone.util.ModalBox=function(){var p="absolute";var e="none";var k=document.getElementsByTagName("body")[0];var m=document.createDocumentFragment();var c=document.createElement("div");c.setAttribute("id","ol");c.style.display=e;c.style.position=p;c.style.top=0;c.style.left=0;c.style.zIndex=10000;c.style.width="100%";c.style.backgroundColor="#555";c.style.filter="alpha(opacity=50)";c.style.MozOpacity=0.5;c.style.opacity=0.5;m.appendChild(c);this.obol=c;var b=document.createElement("div");b.setAttribute("id","mbox");b.style.display=e;b.style.position=p;b.style.backgroundColor="#eee";b.style.padding="8px";b.style.border="2px outset #666";b.style.zIndex=10001;this.obbx=b;var f=document.createElement("span");b.appendChild(f);var o=document.createElement("div");o.setAttribute("id","mbd");var j=document.createElement("div");var g=document.createElement("span");g.innerHTML="Press OK to continue.";this.txt=g;var a=document.createElement("div");a.style.textAlign="center";a.style.fontSize="14px";a.appendChild(g);a.appendChild(document.createElement("br"));var h=document.createElement("button");h.innerHTML="OK";var l=this;h.onclick=function(){l.hide()};a.appendChild(h);j.appendChild(a);o.appendChild(j);this.obbxd=o;f.appendChild(o);m.insertBefore(b,c.nextSibling);k.insertBefore(m,k.firstChild);window.onscroll=function(){l.scrollFix()};window.onresize=function(){l.sizeFix()}};Ozone.util.ModalBox.prototype.pageWidth=function(){return window.innerWidth!=null?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body!=null?document.body.clientWidth:null};Ozone.util.ModalBox.prototype.pageHeight=function(){return window.innerHeight!=null?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body!=null?document.body.clientHeight:null};Ozone.util.ModalBox.prototype.posLeft=function(){return typeof window.pageXOffset!="undefined"?window.pageXOffset:document.documentElement&&document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft?document.body.scrollLeft:0};Ozone.util.ModalBox.prototype.posTop=function(){return typeof window.pageYOffset!="undefined"?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0};Ozone.util.ModalBox.prototype.scrollFix=function(){this.obol.style.top=this.posTop()+"px";this.obol.style.left=this.posLeft()+"px"};Ozone.util.ModalBox.prototype.sizeFix=function(){this.obol.style.height=this.pageHeight()+"px";this.obol.style.width=this.pageWidth()+"px";var b=this.posTop()+((this.pageHeight()-this.height)/2)-12;var a=this.posLeft()+((this.pageWidth()-this.width)/2)-12;this.obbx.style.top=(b<0?0:b)+"px";this.obbx.style.left=(a<0?0:a)+"px"};Ozone.util.ModalBox.prototype.kp=function(a){ky=a?a.which:event.keyCode;if(ky==88||ky==120){this.hide()}return false};Ozone.util.ModalBox.prototype.inf=function(a){tag=document.getElementsByTagName("select");for(i=tag.length-1;i>=0;i--){tag[i].style.visibility=a}tag=document.getElementsByTagName("iframe");for(i=tag.length-1;i>=0;i--){tag[i].style.visibility=a}tag=document.getElementsByTagName("object");for(i=tag.length-1;i>=0;i--){tag[i].style.visibility=a}};Ozone.util.ModalBox.prototype.hide=function(){var a="visible";var b="none";this.obol.style.display=b;this.obbx.style.display=b;this.inf(a);document.onkeypress=""};Ozone.util.ModalBox.prototype.show=function(e,f,m){var j="hidden";var k="block";var d="px";f=f|200;m=m|100;var c=this.obol;var n=this.obbxd;this.txt.innerHTML=e;c.style.height=this.pageHeight()+d;c.style.width=this.pageWidth()+d;c.style.top=this.posTop()+d;c.style.left=this.posLeft()+d;c.style.display=k;var l=this.posTop()+((this.pageHeight()-m)/2)-12;var g=this.posLeft()+((this.pageWidth()-f)/2)-12;var a=this.obbx;a.style.top=(l<0?0:l)+d;a.style.left=(g<0?0:g)+d;a.style.width=f+d;a.style.height=m+d;this.inf(j);a.style.display=k;this.width=f;this.height=m;return false}}if(!Ozone.util.ErrorDlg){Ozone.util.ErrorDlg={};Ozone.util.ErrorDlg.show=function(c,b,a){if(!this.dlgBox){this.dlgBox=new Ozone.util.ModalBox()}this.dlgBox.show(c,b,a)}}Ozone.util.fireBrowserEvent=function(e,c,b,a){if(document.createEvent){var d=document.createEvent("Events");d.initEvent(c,b||true,a||true);e.dispatchEvent(d)}else{if(document.createEventObject){e.fireEvent("on"+c)}}};Ozone.util.cloneDashboard=function(e,j,g){var f=Ozone.util.toString(e);if(j===true){var d=guid.util.guid(),b=e.guid;f=f.replace(new RegExp(b,"g"),d);dashboardStrCopy=f;var a=/\"uniqueId\"\:\"([A-Fa-f\d]{8}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{4}-[A-Fa-f\d]{12})\"/g;var k;while((k=a.exec(dashboardStrCopy))!=null){f=f.replace(new RegExp(k[1],"g"),guid.util.guid())}}var h=Ozone.util.parseJson(f);if(g===true){var c=function(m){if(!m||!m.items){return}if(m.items.length===0&&m.widgets){for(var n=0,l=m.widgets.length;n<l;n++){delete m.widgets[n].launchData}}else{for(var n=0,l=m.items.length;n<l;n++){c(m.items[n])}}};c(h.layoutConfig)}return h};Ozone.util.createRequiredLabel=function(a){return"<span class='required-label'>"+a+" <span class='required-indicator'>*</span></span>"};