var Ozone=Ozone?Ozone:{};Ozone.state=Ozone.state?Ozone.state:{};Ozone.state.WidgetStateHandler=function(a){if(Ozone.state.WidgetStateHandler.instance==null){this.stateChannelName="_WIDGET_STATE_CHANNEL_";this.widgetEventingController=a||Ozone.eventing.Widget.instance;this.widgetIdJSON=Ozone.util.parseJson(this.widgetEventingController.getWidgetId());this.version=Ozone.version.owfversion+Ozone.version.widgetStateHandler;Ozone.state.WidgetStateHandler.instance=this}return Ozone.state.WidgetStateHandler.instance};Ozone.state.WidgetStateHandler.prototype={handleWidgetRequest:function(b,c){var a=this.stateChannelName+this.widgetIdJSON.id;gadgets.rpc.call("..",a,c,this.widgetIdJSON,b)}};Ozone.state.WidgetStateHandler.getInstance=function(a){if(Ozone.state.WidgetStateHandler.instance==null){Ozone.state.WidgetStateHandler.instance=new Ozone.state.WidgetStateHandler(a)}return Ozone.state.WidgetStateHandler.instance};