Ext.define("Ozone.ux.DashboardSplitter",{extend:"Ext.resizer.Splitter",alias:["widget.dashboardsplitter","widget.Ozone.ux.DashboardSplitter"],width:3,height:3,cls:"dashboard-splitter",performCollapse:false,initComponent:function(){this.on("dragend",this.doResize,this);this.callParent(arguments)},doResize:function(c,k,j,b){var a=this.ownerCt;if(a.items.getCount()==3&&!a.rendering){var i=a.items.getAt(0);var p=a.items.getAt(2);var f=(i.initialConfig.htmlText=="Variable");var r,m,n;var d,o,h;var q,l,e;var g=(this.orientation==="vertical");q=a.getWidth();l=a.getHeight();r=i.getWidth();m=i.getHeight();d=q-r-this.width;o=l-m-this.height;delete i.initialConfig.flex;delete i.initialConfig.width;delete i.initialConfig.height;delete i.flex;delete p.initialConfig.flex;delete p.initialConfig.width;delete p.initialConfig.height;delete p.flex;if(i.initialConfig.htmlText){e=i.initialConfig.htmlText.charAt(i.initialConfig.htmlText.length-1)}else{if(p.initialConfig.htmlText){e=p.initialConfig.htmlText.charAt(p.initialConfig.htmlText.length-1)}else{e="%"}}if(e==="%"){if(g){n=Math.round((r/q)*100)}else{n=Math.round((m/l)*100)}h=100-n;i.initialConfig.flex=i.flex=n/100;i.initialConfig.htmlText=n+"%";if(i.textEl){i.textEl.update(n+"%")}p.initialConfig.flex=p.flex=h/100;if(p.textEl){p.textEl.update(h+"%")}p.initialConfig.htmlText=h+"%"}else{if(f){if(g){h=d;p.initialConfig.width=h;p.width=h}else{h=o;p.initialConfig.height=h;p.height=h}p.initialConfig.htmlText=h+"px";if(p.textEl){p.textEl.update(h+"px")}i.initialConfig.htmlText="Variable";if(i.textEl){i.textEl.update("Variable")}i.initialConfig.flex=i.flex=1}else{if(g){n=r;i.initialConfig.width=n;i.width=n}else{n=m;i.initialConfig.height=n;i.height=n}i.initialConfig.htmlText=n+"px";if(i.textEl){i.textEl.update(n+"px")}p.initialConfig.htmlText="Variable";if(p.textEl){p.textEl.update("Variable")}p.initialConfig.flex=p.flex=1}}if(i.dashboard){i.dashboard.hasChanged=true}}}});